{
    "id": "6095FBBE-853D-4F2E-BC15-A88C92A78B4D",
    "name": "InstallPython",
    "friendlyName": "Install Python",
    "description": "Installs one or more Python versions into your build environment",
    "helpMarkDown": "The *Install Python* task will install a of Python using packages from [nuget.org](https://nuget.org) and add them to `PATH`. These packages are part of the official release of CPython.\n\nMost other tasks assume you have already run this task to install the desired runtimes. The folder where they are installed is customizable, but be aware that you will need to update subsequent task configuration if you change this.",
    "category": "Utility",
    "visibility": [
        "Build",
        "Release"
    ],
    "author": "Steve Dower",
    "version": {
        "Major": 1,
        "Minor": 0,
        "Patch": 9
    },
    "minimumAgentVersion": "2.0",
    "groups": [
        {
            "name": "version",
            "displayName": "Python",
            "isExpanded": true
        },
        {
            "name": "packages",
            "displayName": "Packages",
            "isExpanded": false
        },
        {
            "name": "advanced",
            "displayName": "Advanced",
            "isExpanded": false
        }
    ],
    "instanceNameFormat": "Install Python",
    "inputs": [
        {
            "name": "version",
            "type": "pickList",
            "label": "Python Version",
            "defaultValue": "python",
            "helpMarkDown": "Select a version to install, or enter a package constraint (such as `python2==2.7.12` or `pythonx86==3.6`).",
            "required" : true,
            "groupName": "version",
            "options": {
                "python": "Latest 3.x (64-bit)",
                "pythonx86": "Latest 3.x (32-bit)",
                "python2": "Latest 2.x (64-bit)",
                "python2x86": "Latest 2.x (32-bit)",
                "pythondaily": "Latest daily build (64-bit only)",
                "$(PythonVersion)": "Use $(PythonVersion) variable"
            },
            "properties": {
                "EditableOptions": "True"
            }
        },
        {
            "name": "prerelease",
            "type": "boolean",
            "label": "Install prerelease versions",
            "defaultValue": false,
            "groupName": "version",
            "helpMarkDown": "Allow prerelease versions of Python to be installed. (Not required for daily builds.)"
        },
        {
            "name": "dependencies",
            "type": "string",
            "label": "Dependencies",
            "defaultValue": "",
            "groupName": "packages",
            "helpMarkDown": "Packages to install or upgrade immediately after installing Python. Packages are always upgraded."
        },
        {
            "name": "outputdir",
            "type": "filePath",
            "label": "Install Folder",
            "defaultValue": "$(Agent.ToolsDirectory)\\PythonNuget",
            "groupName": "advanced",
            "helpMarkDown": "Folder where packages will be installed. By default, `$(Agent.ToolsDirectory)\\PythonNuget` will be used. The final install locations will be stored in output variables and on `PATH`."
        },
        {
            "name": "nuGetAdditionalArgs",
            "type": "string",
            "label": "NuGet Arguments",
            "defaultValue": "",
            "required": false,
            "groupName": "advanced",
            "helpMarkDown": "Additional arguments passed to NuGet.exe install. [More Information](https://docs.microsoft.com/nuget/tools/nuget-exe-cli-reference#install)."
        }
    ],
    "outputVariables": [
        {
            "name": "pythonLocation",
            "description": "The directory of the latest installed Python distribution. Use this in subsequent tasks to access this installation of Python"
        }
    ],
    "execution": {
        "PowerShell3": {
            "target": "InstallPython.ps1"
        }
    }
}