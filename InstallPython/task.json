{
    "id": "6095FBBE-853D-4F2E-BC15-A88C92A78B4D",
    "name": "InstallPython",
    "friendlyName": "Install Python",
    "description": "Installs one or more Python versions into your build environment",
    "helpMarkDown": "The *Install Python* task will install one or more copies of Python using packages from [nuget.org](https://nuget.org). These packages are part of the official release of CPython.\n\nMost other tasks assume you have already run this task to install the desired runtimes. The folder where they are installed is customizable, but be aware that you will need to update subsequent task configuration if you change this.",
    "category": "Utility",
    "visibility": [
        "Build",
        "Release"
    ],
    "author": "Steve Dower",
    "version": {
        "Major": 1,
        "Minor": 0,
        "Patch": 1
    },
    "minimumAgentVersion": "2.0",
    "groups": [
        {
            "name": "versions",
            "displayName": "Versions",
            "isExpanded": true
        },
        {
            "name": "packages",
            "displayName": "Packages",
            "isExpanded": false
        },
        {
            "name": "advanced",
            "displayName": "Advanced",
            "isExpanded": false
        }
    ],
    "instanceNameFormat": "Install Python",
    "inputs": [
        {
            "name": "versions",
            "type": "pickList",
            "label": "Version pack",
            "defaultValue": "python;pythonx86;python2;python2x86",
            "helpMarkDown": "Select a set of versions to install.",
            "required" : true,
            "groupName": "versions",
            "options": {
                "python;pythonx86;python2;python2x86": "Latest 3.x and 2.x",
                "python;pythonx86": "Latest 3.x",
                "pythonx86": "Latest 3.x (32-bit only)",
                "python": "Latest 3.x (64-bit only)",
                "python2;python2x86": "Latest 2.x",
                "python2x86": "Latest 2.x (32-bit only)",
                "python2": "Latest 2.x (64-bit only)",
                "pythondaily": "Latest daily build (64-bit only)"
            }
        },
        {
            "name": "prerelease",
            "type": "boolean",
            "label": "Install prerelease versions",
            "defaultValue": false,
            "groupName": "versions",
            "helpMarkDown": "Allow prerelease versions of Python to be installed. (Not required to get daily builds.)"
        },
        {
            "name": "versionlist",
            "type": "string",
            "label": "Versions",
            "defaultValue": "",
            "required": false,
            "groupName": "versions",
            "helpMarkDown": "List of specific versions to install, e.g. `python==3.5.2;python==3.6.0`. If specified, the version pack option is ignored."
        },
        {
            "name": "dependencies",
            "type": "string",
            "label": "Dependencies",
            "defaultValue": "",
            "groupName": "packages",
            "helpMarkDown": "Packages to install or upgrade immediately after installing Python. Packages are always upgraded."
        },
        {
            "name": "outputdir",
            "type": "filePath",
            "label": "Install Folder",
            "defaultValue": "",
            "groupName": "advanced",
            "helpMarkDown": "Folder where packages will be installed. By default, `$(Build.BinariesDirectory)` will be used. The final install locations will be stored in output variables."
        },
        {
            "name": "nuGetAdditionalArgs",
            "type": "string",
            "label": "NuGet Arguments",
            "defaultValue": "",
            "required": false,
            "helpMarkDown": "Additional arguments passed to NuGet.exe install. [More Information](https://docs.microsoft.com/nuget/tools/nuget-exe-cli-reference#install).",
            "groupName": "advanced"
        },
        {
            "name": "nuGetPath",
            "type": "string",
            "label": "Path to NuGet.exe",
            "defaultValue": "",
            "required": false,
            "helpMarkDown": "Optionally supply the path to NuGet.exe",
            "groupName": "advanced"
        },
        {
            "name": "nuGetSource",
            "type": "string",
            "label": "Source URL",
            "defaultValue": "",
            "required": false,
            "helpMarkDown": "Optionally supply the NuGet source to obtain the packages from.",
            "groupName": "advanced"
        },
        {
            "name": "clean",
            "type": "boolean",
            "label": "Clean existing installs",
            "defaultValue": true,
            "helpMarkDown": "Optionally delete all python* directories in the output",
            "groupName": "advanced"
        }
    ],
    "outputVariables": [
        {
            "name": "pythonLocation",
            "description": "The directory of the latest installed Python distribution. Use this in subsequent tasks to access this installation of Python"
        },
        {
            "name": "allPythonLocations",
            "description": "A semicolon separated list of all Python distributions installed by this task."
        }
    ],
    "execution": {
        "PowerShell3": {
            "target": "InstallPython.ps1"
        }
    }
}